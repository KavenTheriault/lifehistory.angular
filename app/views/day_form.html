<div class="page-header">
	<h1 class="hidden-xs hidden-sm">{{$parent.display_date | date:'longDate'}}</h1>
	<h3 class="hidden-md hidden-lg">{{$parent.display_date | date:'longDate'}}</h3>
</div>

<div class="panel panel-primary">
	<div class="panel-heading">
		<h3 class="panel-title panel_title_custom">{{$parent.display_date | date:'EEEE'}}</h3>
	</div>
	<div class="panel-body table-responsive">
		<table class="table">
			<thead>
				<tr>
					<th>Time</th>
					<th>End</th>
					<th>Activity</th>
					<th>Description</th>
					<th>Rating</th>
				</tr>
			</thead>
			<tbody ng-repeat="life_entry in day.life_entries">
				<tr ng-repeat="life_entry_activity in life_entry.life_entry_activities">
					<td>{{$index==0 ? (life_entry.start_time | limitTo: 5) : ""}}</td>
					<td>{{$index==0 ? (life_entry.end_time | limitTo: 5) : ""}}</td>
					<td>{{life_entry_activity.activity.name}}{{life_entry_activity.quantity > 1 ? " (" + life_entry_activity.quantity + ")": ""}}</td>
					<td>{{life_entry_activity.description}}</td>
					<td>{{life_entry_activity.rating}} <span ng-show="life_entry_activity.rating" class="glyphicon glyphicon-star"></span></td>
					<td align="right" ng-show="$index==0">
						<button type="button" class="btn default btn-sm green" ng-click="editLifeEntry(life_entry.id)"><i class="glyphicon glyphicon-pencil"></i></button>
					</td>
				</tr>
			<tbody>
		</table>
	</div>
</div>
<div class="text-right">
    <button class="btn btn-success btn-md" ng-click="$parent.save_and_add=true" type="submit">Add Life Entry</button>
</div>
<br>
<div class="panel panel-primary">
	<div class="panel-heading">
		<h3 class="panel-title panel_title_custom">Note</h3>
	</div>
	<div class="panel-body">
		<textarea rows="5" ng-model="day.note" class="form-control"></textarea>
	</div>
</div>

<div class="form-actions">
	<button class="btn btn-success btn-md" type="submit">Save</button>
	<button ng-click="goBack()" class="btn btn-default btn-md">Back</button>
</div>